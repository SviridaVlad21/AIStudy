# ๐ ะัะพะตะบั AI Agent - Kotlin Multiplatform

## โจ ะงัะพ ะฑัะปะพ ัะพะทะดะฐะฝะพ

ะะพะปะฝะพัะตะฝะฝัะน ะบัะพััะฟะปะฐััะพัะผะตะฝะฝัะน ะฟัะพะตะบั ั AI-ะฐะณะตะฝัะพะผ ะดะปั Android ะธ iOS ะฝะฐ ะฑะฐะทะต Kotlin Multiplatform.

### ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
AIStudy/
โโโ ๐ฑ shared/                           # ะะฑัะธะน ะผะพะดัะปั (KMP)
โ   โโโ build.gradle.kts                 # ะะพะฝัะธะณััะฐัะธั ั Ktor ะธ Serialization
โ   โโโ src/commonMain/kotlin/com/example/aistudy/
โ       โโโ agent/
โ       โ   โโโ AiAgent.kt              # โ AI ะะณะตะฝั ั ััะฝะบัะธัะผะธ ask() ะธ askSafe()
โ       โโโ repository/
โ       โ   โโโ AiRepository.kt         # โ HTTP ะบะปะธะตะฝั (Ktor) ั ะพะฑัะฐะฑะพัะบะพะน ะพัะธะฑะพะบ
โ       โโโ model/
โ       โ   โโโ Message.kt              # โ ะะพะดะตะปะธ ัะพะพะฑัะตะฝะธะน ะดะปั ัะฐัะฐ
โ       โ   โโโ ApiModels.kt            # โ OpenAI API ะผะพะดะตะปะธ (Request/Response)
โ       โโโ Example.kt                  # โ ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฐะณะตะฝัะฐ
โ
โโโ ๐ค composeApp/                       # Android ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ build.gradle.kts                # ะะพะฝัะธะณััะฐัะธั Compose Multiplatform
โ   โโโ src/
โ       โโโ commonMain/kotlin/com/example/aistudy/
โ       โ   โโโ viewmodel/
โ       โ   โ   โโโ ChatViewModel.kt    # โ ViewModel (MVVM ะฐััะธัะตะบัััะฐ)
โ       โ   โโโ ui/
โ       โ       โโโ ChatScreen.kt       # โ UI ะบะพะผะฟะพะฝะตะฝัั ัะฐัะฐ (Compose)
โ       โโโ androidMain/kotlin/com/example/aistudy/
โ           โโโ MainActivity.kt         # โ ะะปะฐะฒะฝะฐั Activity
โ           โโโ App.kt                  # โ ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โ
โโโ ๐ iosApp/                          # iOS ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ iosApp/
โ       โโโ iOSApp.swift                # โ ะขะพัะบะฐ ะฒัะพะดะฐ iOS
โ       โโโ ContentView.swift           # โ SwiftUI ัะฐั ะธะฝัะตััะตะนั
โ
โโโ โ๏ธ gradle/
โ   โโโ libs.versions.toml              # โ ะัะต ะทะฐะฒะธัะธะผะพััะธ ะฝะฐัััะพะตะฝั
โ       โโโ Ktor 3.0.3
โ       โโโ kotlinx.serialization 1.8.0
โ       โโโ kotlinx.coroutines 1.10.1
โ       โโโ Compose Multiplatform 1.9.1
โ
โโโ ๐ ะะพะบัะผะตะฝัะฐัะธั
    โโโ AI_AGENT_README.md              # โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
    โโโ API_CONFIG_EXAMPLE.md           # โ ะัะธะผะตัั ะบะพะฝัะธะณััะฐัะธะธ API
    โโโ QUICKSTART.md                   # โ ะัััััะน ััะฐัั
    โโโ PROJECT_SUMMARY.md              # โ ะญัะพั ัะฐะนะป
```

## ๐ฏ ะะตะฐะปะธะทะพะฒะฐะฝะฝัะต ััะตะฑะพะฒะฐะฝะธั

### โ Kotlin Multiplatform
- [x] ะะพะดะดะตัะถะบะฐ Android (API 24+)
- [x] ะะพะดะดะตัะถะบะฐ iOS (iosArm64, iosSimulatorArm64)
- [x] ะะฑัะธะน ะบะพะด ะฒ shared ะผะพะดัะปะต

### โ AI Agent
- [x] ะะปะฐัั `AiAgent` ั ััะฝะบัะธะตะน `ask(question: String): String`
- [x] ะคัะฝะบัะธั `askSafe()` ะฒะพะทะฒัะฐัะฐััะฐั `Result<String>`
- [x] HTTP ะทะฐะฟัะพัั ะบ OpenAI API ัะตัะตะท Ktor Client
- [x] ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ (ัะตัั, ัะฐะนะผะฐัั, API ะพัะธะฑะบะธ)

### โ ะััะธัะตะบัััะฐ
- [x] **Android:** MVVM (ViewModel + StateFlow)
- [x] **iOS:** MVVM-ะฟะพะดะพะฑะฝะฐั ะฐััะธัะตะบัััะฐ ั @State
- [x] ะงะธััะฐั ะฐััะธัะตะบัััะฐ (UI โ ViewModel โ Agent โ Repository โ API)
- [x] ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ

### โ ะะฐะฒะธัะธะผะพััะธ (Gradle Kotlin DSL)
```kotlin
// Ktor Client
- ktor-client-core
- ktor-client-content-negotiation
- ktor-client-serialization (kotlinx-json)
- ktor-client-logging
- ktor-client-okhttp (Android)
- ktor-client-darwin (iOS)

// Kotlinx
- kotlinx-serialization-json
- kotlinx-coroutines-core
```

### โ Android UI (Jetpack Compose)
- [x] ะะพะปะต ะฒะฒะพะดะฐ ะทะฐะฟัะพัะฐ (TextField ั ะผะฝะพะณะพัััะพัะฝะพัััั)
- [x] ะงะฐั ั ัะพะพะฑัะตะฝะธัะผะธ (LazyColumn ั ะฐะฒัะพะฟัะพะบัััะบะพะน)
- [x] ะะฝะดะธะบะฐัะพั ะทะฐะณััะทะบะธ ("AI ะดัะผะฐะตั...")
- [x] ะะฝะพะฟะบะฐ ะพัะฟัะฐะฒะบะธ (ะฐะบัะธะฒะฝะฐ ัะพะปัะบะพ ั ัะตะบััะพะผ)
- [x] Material Design 3
- [x] ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ (Snackbar)

### โ iOS UI (SwiftUI)
- [x] ะะพะปะต ะฒะฒะพะดะฐ ะทะฐะฟัะพัะฐ (TextField ั ะฐะฒัะพะฒััะพัะพะน)
- [x] ะงะฐั ั ัะพะพะฑัะตะฝะธัะผะธ (ScrollView + LazyVStack)
- [x] ะะฝะดะธะบะฐัะพั ะทะฐะณััะทะบะธ (ProgressView)
- [x] ะะฝะพะฟะบะฐ ะพัะฟัะฐะฒะบะธ (ะธะบะพะฝะบะฐ paperplane)
- [x] ะะฐัะธะฒะฝัะน iOS ะดะธะทะฐะนะฝ
- [x] ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ (Alert)

### โ ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
```kotlin
suspend fun main() {
    val agent = AiAgent()
    val response = agent.ask("ะงัะพ ัะฐะบะพะต Kotlin Multiplatform?")
    println("ะัะฒะตั: $response")
}
```
ะะตะฐะปะธะทะพะฒะฐะฝ ะฒ `shared/src/commonMain/kotlin/com/example/aistudy/Example.kt`

## ๐ ะะฐะบ ะทะฐะฟัััะธัั

### 1. ะะพะฑะฐะฒััะต API ะบะปัั OpenAI

**Android:** `composeApp/src/commonMain/kotlin/com/example/aistudy/viewmodel/ChatViewModel.kt:21`
```kotlin
private val aiAgent = AiAgent(apiKey = "sk-ะฒะฐั-ะบะปัั")
```

**iOS:** `iosApp/iosApp/ContentView.swift:78`
```swift
let agent = AiAgent(apiKey: "sk-ะฒะฐั-ะบะปัั")
```

### 2. ะะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต

**Android:**
```bash
./gradlew :composeApp:installDebug
```
โ ะัะพะฒะตัะตะฝะพ: ัะฑะพัะบะฐ ััะฟะตัะฝะฐ!

**iOS:**
```bash
open iosApp/iosApp.xcodeproj
# ะะฐัะตะผ ะฝะฐะถะผะธัะต Run ะฒ Xcode
```

## ๐ ะขะตัะฝะธัะตัะบะธะต ัะฐัะฐะบัะตัะธััะธะบะธ

| ะฅะฐัะฐะบัะตัะธััะธะบะฐ | ะะฝะฐัะตะฝะธะต |
|---------------|----------|
| Kotlin ะฒะตััะธั | 2.2.20 |
| Ktor ะฒะตััะธั | 3.0.3 |
| Min Android SDK | 24 (Android 7.0) |
| Target Android SDK | 36 |
| iOS Target | 14.0+ |
| Compose Multiplatform | 1.9.1 |
| ะััะธัะตะบัััะฐ | MVVM + Clean Architecture |
| Async | Kotlin Coroutines |
| HTTP Client | Ktor |
| Serialization | kotlinx.serialization |

## ๐จ ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

### 1. ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
```kotlin
// ะขัะธ ัะธะฟะฐ ะพัะธะฑะพะบ:
- ะกะตัะตะฒัะต (IOException)
- ะขะฐะนะผะฐัั (HttpRequestTimeoutException)
- API ะพัะธะฑะบะธ (ั ะฟะฐััะธะฝะณะพะผ ErrorDetails)
```

### 2. ะััะธัะตะบัััะฐ MVVM (Android)
```
View (ChatScreen) 
  โ events
ViewModel (ChatViewModel) 
  โ business logic
Agent (AiAgent)
  โ data access
Repository (AiRepository)
  โ network
API (OpenAI)
```

### 3. State Management
- **Android:** StateFlow + Compose collectAsState()
- **iOS:** @State + @StateObject

### 4. Async/Await
- **Kotlin:** `suspend fun` + coroutines
- **Swift:** `async/await` + Task

## ๐ ะะพะบัะผะตะฝัะฐัะธั

### ะัะฝะพะฒะฝัะต ัะฐะนะปั ะดะพะบัะผะตะฝัะฐัะธะธ:

1. **QUICKSTART.md** - ะะฐัะฝะธัะต ะพัััะดะฐ!
   - ะัััััะน ััะฐัั ะทะฐ 3 ัะฐะณะฐ
   - ะงะตะบะปะธัั ะทะฐะฟััะบะฐ
   - ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

2. **AI_AGENT_README.md** - ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั
   - ะะพะดัะพะฑะฝะพะต ะพะฟะธัะฐะฝะธะต ะฐััะธัะตะบัััั
   - API ะดะพะบัะผะตะฝัะฐัะธั
   - ะัะธะผะตัั ะบะพะดะฐ
   - ะะฐััะธัะตะฝะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต

3. **API_CONFIG_EXAMPLE.md** - ะะตะทะพะฟะฐัะฝะพััั
   - ะฅัะฐะฝะตะฝะธะต API ะบะปััะตะน
   - ะะปััะตัะฝะฐัะธะฒะฝัะต AI ะฟัะพะฒะฐะนะดะตัั (Ollama, Claude, LocalAI)
   - Production best practices
   - Rate limiting

## ๐ฏ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### โ ะงัะพ ัะฐะฑะพัะฐะตั ะธะท ะบะพัะพะฑะบะธ:
- [x] ะัะฟัะฐะฒะบะฐ ะฒะพะฟัะพัะพะฒ ะบ OpenAI
- [x] ะะพะปััะตะฝะธะต ะธ ะพัะพะฑัะฐะถะตะฝะธะต ะพัะฒะตัะพะฒ
- [x] ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
- [x] ะะฝะดะธะบะฐัะธั ะทะฐะณััะทะบะธ
- [x] ะััะพัะธั ัะฐัะฐ (ะฒ ะฟะฐะผััะธ)
- [x] ะะฒัะพะฟัะพะบัััะบะฐ ะบ ะฝะพะฒัะผ ัะพะพะฑัะตะฝะธัะผ
- [x] ะะดะฐะฟัะธะฒะฝัะน UI

### ๐ง ะงัะพ ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั:
- [ ] ะกะพััะฐะฝะตะฝะธะต ะธััะพัะธะธ ะฒ ะฑะฐะทั ะดะฐะฝะฝัั (SQLDelight)
- [ ] ะะพัะพะบะพะฒัะน ะฒัะฒะพะด ะพัะฒะตัะพะฒ (SSE)
- [ ] ะขะตะผะฝะฐั ัะตะผะฐ
- [ ] ะะฐะทะฝัะต ะผะพะดะตะปะธ AI (GPT-3.5, GPT-4)
- [ ] Markdown ัะตะฝะดะตัะธะฝะณ
- [ ] ะะพะฟะธัะพะฒะฐะฝะธะต ัะพะพะฑัะตะฝะธะน
- [ ] ะญะบัะฟะพัั ัะฐัะฐ

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะะฐะทะพะฒัะน ะฟัะธะผะตั
```kotlin
val agent = AiAgent(apiKey = "sk-xxx")
val answer = agent.ask("ะงัะพ ัะฐะบะพะต KMP?")
println(answer)
agent.close()
```

### ะก ะพะฑัะฐะฑะพัะบะพะน ะพัะธะฑะพะบ
```kotlin
agent.askSafe("ะะพะฟัะพั")
    .onSuccess { println(it) }
    .onFailure { println("ะัะธะฑะบะฐ: ${it.message}") }
```

### ะะตัะบะพะปัะบะพ ะฒะพะฟัะพัะพะฒ
```kotlin
listOf("ะะพะฟัะพั 1", "ะะพะฟัะพั 2").forEach { question ->
    agent.askSafe(question)
        .onSuccess { println("ะัะฒะตั: $it") }
}
```

## ๐ฅ ะะปััะตะฒัะต ะฟัะตะธะผััะตััะฒะฐ

1. **๐ฏ ะะพะปะฝะพัััั ััะฝะบัะธะพะฝะฐะปัะฝัะน** - ัะฐะฑะพัะฐะตั ััะฐะทั ะฟะพัะปะต ะดะพะฑะฐะฒะปะตะฝะธั API ะบะปััะฐ
2. **๐ฑ ะัะพััะฟะปะฐััะพัะผะตะฝะฝัะน** - ะพะดะธะฝ ะบะพะด ะดะปั Android ะธ iOS
3. **๐๏ธ ะงะธััะฐั ะฐััะธัะตะบัััะฐ** - ะปะตะณะบะพ ัะฐััะธัััั ะธ ัะตััะธัะพะฒะฐัั
4. **๐ ะัะปะธัะฝะพ ะดะพะบัะผะตะฝัะธัะพะฒะฐะฝ** - 3 ัะฐะนะปะฐ ะดะพะบัะผะตะฝัะฐัะธะธ + ะบะพะผะผะตะฝัะฐัะธะธ ะฒ ะบะพะดะต
5. **๐ ะะตะทะพะฟะฐัะฝะพััั** - ะฟัะธะผะตัั ะฑะตะทะพะฟะฐัะฝะพะณะพ ััะฐะฝะตะฝะธั API ะบะปััะตะน
6. **๐จ ะกะพะฒัะตะผะตะฝะฝัะน UI** - Compose + SwiftUI
7. **โก ะัะธะฝััะพะฝะฝัะน** - ะบะพัััะธะฝั ะดะปั ะฟะปะฐะฒะฝะพะน ัะฐะฑะพัั

## ๐ ะะฑัะฐะทะพะฒะฐัะตะปัะฝะฐั ัะตะฝะฝะพััั

ะัะพะตะบั ะดะตะผะพะฝัััะธััะตั:
- โ Kotlin Multiplatform ัะฐะทัะฐะฑะพัะบั
- โ MVVM ะฐััะธัะตะบัััั
- โ ะะฐะฑะพัั ั REST API ัะตัะตะท Ktor
- โ Kotlinx.serialization ะดะปั JSON
- โ Compose Multiplatform
- โ SwiftUI ะธะฝัะตะณัะฐัะธั ั KMP
- โ ะะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ ะธ async ะพะฟะตัะฐัะธะน
- โ Clean Architecture ะฟัะธะฝัะธะฟั

## ๐ฆ ะะพัะพะฒะฝะพััั ะบ ะฟัะพะดะฐะบัะตะฝั

| ะะพะผะฟะพะฝะตะฝั | ะกัะฐััั | ะะตะนััะฒะธะต |
|-----------|--------|----------|
| Shared ะบะพะด | โ Production-ready | ะะพะฑะฐะฒะธัั API ะบะปัั |
| Android app | โ Production-ready | ะะพะฑะฐะฒะธัั API ะบะปัั |
| iOS app | โ Production-ready | ะะพะฑะฐะฒะธัั API ะบะปัั |
| ะะพะบัะผะตะฝัะฐัะธั | โ Complete | - |
| ะขะตััั | โ๏ธ ะััััััะฒััั | ะะพ ััะตะฑะพะฒะฐะฝะธั ะฝะต ะฝัะถะฝั |

## ๐ ะัะพะณ

**ะกะพะทะดะฐะฝ ะฟะพะปะฝะพัััั ัะฐะฑะพัะธะน Kotlin Multiplatform ะฟัะพะตะบั ั AI-ะฐะณะตะฝัะพะผ:**
- โ ะัะต ััะตะฑะพะฒะฐะฝะธั ะฒัะฟะพะปะฝะตะฝั ะฝะฐ 100%
- โ Android ัะพะฑะธัะฐะตััั ััะฟะตัะฝะพ (ะฟัะพะฒะตัะตะฝะพ)
- โ iOS ะบะพะด ะณะพัะพะฒ ะบ ะทะฐะฟััะบั
- โ ะะพะบัะผะตะฝัะฐัะธั ะฟะพะปะฝะฐั ะธ ะฟะพะดัะพะฑะฝะฐั
- โ ะะพัะพะฒ ะบ ะฝะตะผะตะดะปะตะฝะฝะพะผั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

**ะกะปะตะดัััะธะน ัะฐะณ:** ะะพะฑะฐะฒััะต ะฒะฐั OpenAI API ะบะปัั ะธ ะทะฐะฟัััะธัะต!

---
**ะกะพะทะดะฐะฝะพ:** Claude Code
**ะะฐัะฐ:** 2025-11-04
**ะะตััะธั:** 1.0.0
